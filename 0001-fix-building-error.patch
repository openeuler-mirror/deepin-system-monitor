From cc0990a7923c40a163d75fa99f046b3759651558 Mon Sep 17 00:00:00 2001
From: Your Name <you@example.com>
Date: Thu, 7 May 2020 13:31:04 +0800
Subject: [PATCH 2/2] 2

---
 src/common/collator.cpp                              | 2 ++
 src/common/collator.h                                | 2 ++
 src/model/process_sort_filter_proxy_model.cpp        | 4 ++--
 src/model/system_service_sort_filter_proxy_model.cpp | 2 +-
 4 files changed, 7 insertions(+), 3 deletions(-)

diff --git a/src/common/collator.cpp b/src/common/collator.cpp
index 14a98fa..9c6f11c 100644
--- a/src/common/collator.cpp
+++ b/src/common/collator.cpp
@@ -2,6 +2,7 @@
 
 #include "collator.h"
 
+namespace Common {
 std::atomic<Collator *> Collator::m_instance;
 std::mutex Collator::m_mutex;
 
@@ -48,3 +49,4 @@ Collator::~Collator()
 {
     delete m_collator;
 }
+}
diff --git a/src/common/collator.h b/src/common/collator.h
index ceeb67c..88d08d5 100644
--- a/src/common/collator.h
+++ b/src/common/collator.h
@@ -12,6 +12,7 @@
 
 #include <QString>
 
+namespace Common {
 class Collator
 {
 public:
@@ -41,4 +42,5 @@ private:
     static std::mutex m_mutex;
 };
 
+}
 #endif  // COLLATOR_H
diff --git a/src/model/process_sort_filter_proxy_model.cpp b/src/model/process_sort_filter_proxy_model.cpp
index f2c3d4a..82f86db 100644
--- a/src/model/process_sort_filter_proxy_model.cpp
+++ b/src/model/process_sort_filter_proxy_model.cpp
@@ -77,11 +77,11 @@ bool ProcessSortFilterProxyModel::lessThan(const QModelIndex &left, const QModel
             } else {
                 QString lname = left.data(Qt::DisplayRole).toString();
                 QString rname = right.data(Qt::DisplayRole).toString();
-                return Collator::instance()->compare(lname, rname) < 0;
+                return Common::Collator::instance()->compare(lname, rname) < 0;
             }
         }
         case ProcessTableModel::kProcessUserColumn: {
-            return Collator::instance()->compare(left.data(Qt::DisplayRole).toString(),
+            return Common::Collator::instance()->compare(left.data(Qt::DisplayRole).toString(),
                                                  right.data(Qt::DisplayRole).toString()) < 0;
         }
         case ProcessTableModel::kProcessMemoryColumn: {
diff --git a/src/model/system_service_sort_filter_proxy_model.cpp b/src/model/system_service_sort_filter_proxy_model.cpp
index 515a2a4..ae1e019 100644
--- a/src/model/system_service_sort_filter_proxy_model.cpp
+++ b/src/model/system_service_sort_filter_proxy_model.cpp
@@ -41,7 +41,7 @@ bool SystemServiceSortFilterProxyModel::lessThan(const QModelIndex &left,
             return left.data().toUInt() < right.data().toUInt();
         case SystemServiceTableModel::kSystemServiceNameColumn:
         case SystemServiceTableModel::kSystemServiceDescriptionColumn: {
-            return Collator::instance()->compare(left.data(Qt::DisplayRole).toString(),
+            return Common::Collator::instance()->compare(left.data(Qt::DisplayRole).toString(),
                                                  right.data(Qt::DisplayRole).toString()) < 0;
         }
         default:
-- 
2.18.2

